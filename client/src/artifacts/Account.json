{
  "contractName": "Account",
  "abi": [
    {
      "name": "Error",
      "inputs": [
        {
          "type": "string",
          "name": "message",
          "indexed": false
        }
      ],
      "anonymous": false,
      "type": "event"
    },
    {
      "name": "AccountCreated",
      "inputs": [
        {
          "type": "address",
          "name": "user",
          "indexed": true
        },
        {
          "type": "address",
          "name": "userAcc",
          "indexed": true
        },
        {
          "type": "bool",
          "name": "outcome",
          "indexed": false
        }
      ],
      "anonymous": false,
      "type": "event"
    },
    {
      "name": "AccountAuthorized",
      "inputs": [
        {
          "type": "address",
          "name": "user",
          "indexed": true
        },
        {
          "type": "address",
          "name": "userAcc",
          "indexed": true
        },
        {
          "type": "bool",
          "name": "outcome",
          "indexed": false
        }
      ],
      "anonymous": false,
      "type": "event"
    },
    {
      "name": "AccountDeposit",
      "inputs": [
        {
          "type": "address",
          "name": "user",
          "indexed": true
        },
        {
          "type": "address",
          "name": "userAcc",
          "indexed": true
        },
        {
          "type": "uint256",
          "name": "amount",
          "indexed": false,
          "unit": "wei"
        },
        {
          "type": "bool",
          "name": "outcome",
          "indexed": false
        }
      ],
      "anonymous": false,
      "type": "event"
    },
    {
      "name": "AccountWithdrawal",
      "inputs": [
        {
          "type": "address",
          "name": "user",
          "indexed": true
        },
        {
          "type": "address",
          "name": "userAcc",
          "indexed": true
        },
        {
          "type": "uint256",
          "name": "amount",
          "indexed": false,
          "unit": "wei"
        },
        {
          "type": "bool",
          "name": "outcome",
          "indexed": false
        }
      ],
      "anonymous": false,
      "type": "event"
    },
    {
      "name": "setup",
      "outputs": [],
      "inputs": [
        {
          "type": "address",
          "name": "user_addr"
        }
      ],
      "constant": false,
      "payable": false,
      "type": "function",
      "gas": 107991
    },
    {
      "name": "authorize",
      "outputs": [
        {
          "type": "bool",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "address",
          "name": "userAcc"
        }
      ],
      "constant": false,
      "payable": false,
      "type": "function",
      "gas": 37847
    },
    {
      "name": "deposit",
      "outputs": [
        {
          "type": "bool",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "address",
          "name": "addr"
        }
      ],
      "constant": false,
      "payable": true,
      "type": "function",
      "gas": 10036
    },
    {
      "name": "withdraw",
      "outputs": [
        {
          "type": "bool",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "address",
          "name": "addr"
        },
        {
          "type": "uint256",
          "unit": "wei",
          "name": "amount"
        }
      ],
      "constant": false,
      "payable": false,
      "type": "function",
      "gas": 57537
    },
    {
      "name": "userAddress",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 671
    },
    {
      "name": "factoryAddress",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 701
    },
    {
      "name": "ownerAddress",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 731
    },
    {
      "name": "authorizedAccount",
      "outputs": [
        {
          "type": "bool",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "address",
          "name": "userAcc_addr"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 915
    },
    {
      "name": "accountBalance",
      "outputs": [
        {
          "type": "uint256",
          "unit": "wei",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 990
    },
    {
      "name": "authorized",
      "outputs": [
        {
          "type": "bool",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "address",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 975
    },
    {
      "name": "owner",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 851
    }
  ],
  "bytecode": "0x6107e256600436101561000d576107d8565b600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a0526366d3820360005114156101295734156100ba57600080fd5b60043560205181106100cb57600080fd5b5060006004351415600454156002541516166100e657600080fd5b33600255600435600455600435600355600161014052306004357f1a249674a89ca8f31d0561aed4ccbaf4a366633ec7deb6d724a94970763424da6020610140a3005b63b6a5d7de60005114156101a757341561014257600080fd5b600435602051811061015357600080fd5b506001600160043560e05260c052604060c020556001610140526004356002547f31b0379890007b62e73ee4db4531159d8d00428b2426e3942589e1b604d82e8d6020610140a3600160005260206000f350005b63f340fa0160005114156103625760043560205181106101c657600080fd5b50600160043560e05260c052604060c020541561022257346102805260016102a052600435337f349bb09fb300a1c8e15ca4fc19e013dd03a253f76abdb743000959fcb99a0d456040610280a3600160005260206000f3610360565b601a610140527f4465706f736974206d75737420626520617574686f72697a6564000000000000610160526101408051602001806101a0828460006004600a8704601201f161027057600080fd5b505060206102205261022051610260526101a08051602001806102205161026001828460006004600a8704601201f16102a857600080fd5b505061022051610260015160206001820306601f82010390506102006102205161026001516020818352015b82610200511015156102e557610306565b600061020051610220516102800101535b81516001018083528114156102d4575b505050602061022051610260015160206001820306601f8201039050610220510101610220527f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa61022051610260a1600060005260206000f35b005b63f3fef3a3600051141561068757341561037b57600080fd5b600435602051811061038c57600080fd5b50303160243511156104d657600f610140527f457863656564732062616c616e63650000000000000000000000000000000000610160526101408051602001806101a0828460006004600a8704601201f16103e657600080fd5b505060206102205261022051610260526101a08051602001806102205161026001828460006004600a8704601201f161041e57600080fd5b505061022051610260015160206001820306601f82010390506102006102205161026001516020818352015b826102005110151561045b5761047c565b600061020051610220516102800101535b815160010180835281141561044a575b505050602061022051610260015160206001820306601f8201039050610220510101610220527f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa61022051610260a1600060005260206000f35b600160043560e05260c052604060c0205415610547576024356102805260016102a052600435337f9c4355125b9f682b86853a9e5ac6680bc1ede3ab7dae57a7b7d1f4d1fc17b96d6040610280a36000600060006000602435336000f161053c57600080fd5b600160005260206000f35b60156102c0527f576974686472617720556e7375636365737366756c00000000000000000000006102e0526102c0805160200180610320828460006004600a8704601201f161059557600080fd5b505060206103a0526103a0516103e0526103208051602001806103a0516103e001828460006004600a8704601201f16105cd57600080fd5b50506103a0516103e0015160206001820306601f82010390506103806103a0516103e001516020818352015b826103805110151561060a5761062b565b6000610380516103a0516104000101535b81516001018083528114156105f9575b50505060206103a0516103e0015160206001820306601f82010390506103a05101016103a0527f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa6103a0516103e0a1600060005260206000f350005b63e4128fb360005114156106ae5734156106a057600080fd5b60045460005260206000f350005b63966dae0e60005114156106d55734156106c757600080fd5b60025460005260206000f350005b638f84aa0960005114156106fc5734156106ee57600080fd5b60035460005260206000f350005b6353243616600051141561074357341561071557600080fd5b600435602051811061072657600080fd5b50600160043560e05260c052604060c0205460005260206000f350005b63b0a1c1c4600051141561076957341561075c57600080fd5b303160005260206000f350005b63b918161160005114156107b057341561078257600080fd5b600435602051811061079357600080fd5b50600160043560e05260c052604060c0205460005260206000f350005b638da5cb5b60005114156107d75734156107c957600080fd5b60035460005260206000f350005b5b60006000fd5b6100046107e2036100046000396100046107e2036000f3",
  "deployedBytecode": "0x600436101561000d576107d8565b600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a0526366d3820360005114156101295734156100ba57600080fd5b60043560205181106100cb57600080fd5b5060006004351415600454156002541516166100e657600080fd5b33600255600435600455600435600355600161014052306004357f1a249674a89ca8f31d0561aed4ccbaf4a366633ec7deb6d724a94970763424da6020610140a3005b63b6a5d7de60005114156101a757341561014257600080fd5b600435602051811061015357600080fd5b506001600160043560e05260c052604060c020556001610140526004356002547f31b0379890007b62e73ee4db4531159d8d00428b2426e3942589e1b604d82e8d6020610140a3600160005260206000f350005b63f340fa0160005114156103625760043560205181106101c657600080fd5b50600160043560e05260c052604060c020541561022257346102805260016102a052600435337f349bb09fb300a1c8e15ca4fc19e013dd03a253f76abdb743000959fcb99a0d456040610280a3600160005260206000f3610360565b601a610140527f4465706f736974206d75737420626520617574686f72697a6564000000000000610160526101408051602001806101a0828460006004600a8704601201f161027057600080fd5b505060206102205261022051610260526101a08051602001806102205161026001828460006004600a8704601201f16102a857600080fd5b505061022051610260015160206001820306601f82010390506102006102205161026001516020818352015b82610200511015156102e557610306565b600061020051610220516102800101535b81516001018083528114156102d4575b505050602061022051610260015160206001820306601f8201039050610220510101610220527f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa61022051610260a1600060005260206000f35b005b63f3fef3a3600051141561068757341561037b57600080fd5b600435602051811061038c57600080fd5b50303160243511156104d657600f610140527f457863656564732062616c616e63650000000000000000000000000000000000610160526101408051602001806101a0828460006004600a8704601201f16103e657600080fd5b505060206102205261022051610260526101a08051602001806102205161026001828460006004600a8704601201f161041e57600080fd5b505061022051610260015160206001820306601f82010390506102006102205161026001516020818352015b826102005110151561045b5761047c565b600061020051610220516102800101535b815160010180835281141561044a575b505050602061022051610260015160206001820306601f8201039050610220510101610220527f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa61022051610260a1600060005260206000f35b600160043560e05260c052604060c0205415610547576024356102805260016102a052600435337f9c4355125b9f682b86853a9e5ac6680bc1ede3ab7dae57a7b7d1f4d1fc17b96d6040610280a36000600060006000602435336000f161053c57600080fd5b600160005260206000f35b60156102c0527f576974686472617720556e7375636365737366756c00000000000000000000006102e0526102c0805160200180610320828460006004600a8704601201f161059557600080fd5b505060206103a0526103a0516103e0526103208051602001806103a0516103e001828460006004600a8704601201f16105cd57600080fd5b50506103a0516103e0015160206001820306601f82010390506103806103a0516103e001516020818352015b826103805110151561060a5761062b565b6000610380516103a0516104000101535b81516001018083528114156105f9575b50505060206103a0516103e0015160206001820306601f82010390506103a05101016103a0527f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa6103a0516103e0a1600060005260206000f350005b63e4128fb360005114156106ae5734156106a057600080fd5b60045460005260206000f350005b63966dae0e60005114156106d55734156106c757600080fd5b60025460005260206000f350005b638f84aa0960005114156106fc5734156106ee57600080fd5b60035460005260206000f350005b6353243616600051141561074357341561071557600080fd5b600435602051811061072657600080fd5b50600160043560e05260c052604060c0205460005260206000f350005b63b0a1c1c4600051141561076957341561075c57600080fd5b303160005260206000f350005b63b918161160005114156107b057341561078257600080fd5b600435602051811061079357600080fd5b50600160043560e05260c052604060c0205460005260206000f350005b638da5cb5b60005114156107d75734156107c957600080fd5b60035460005260206000f350005b5b60006000fd",
  "source": "# @notice Accounts created mint tokens at a 1:1 ratio to ether which are then authorized to trade the option\r\n# @author Alexander\r\n\r\ncontract Factory():\r\n    def getAccount(user_addr: address) -> address:constant\r\n    def getUser(userAcc: address) -> address:constant\r\n\r\nError: event({message: string[50]})\r\nAccountCreated: event({user: indexed(address), userAcc: indexed(address), outcome: bool})\r\nAccountAuthorized: event({user: indexed(address), userAcc: indexed(address), outcome: bool})\r\nAccountDeposit: event({user: indexed(address), userAcc: indexed(address), amount: wei_value, outcome: bool})\r\nAccountWithdrawal: event({user: indexed(address), userAcc: indexed(address), amount: wei_value, outcome: bool})\r\n\r\naccounts: map(address, address)\r\nauthorized: public(map(address, bool))\r\nfactory: Factory\r\nowner: public(address)\r\nuser: address\r\n\r\n\r\n@public\r\ndef setup(user_addr: address):\r\n    assert(self.factory == ZERO_ADDRESS and self.user == ZERO_ADDRESS) and user_addr != ZERO_ADDRESS\r\n    self.factory = Factory(msg.sender)\r\n    self.user = user_addr\r\n    self.owner = user_addr\r\n    log.AccountCreated(user_addr, self, True)\r\n\r\n@public\r\ndef authorize(userAcc: address) -> bool:\r\n    self.authorized[userAcc] = True\r\n    log.AccountAuthorized(self.factory, userAcc, True)\r\n    return True\r\n\r\n@public\r\n@payable\r\ndef deposit( addr: address) -> bool:\r\n    if(self.authorized[addr]):\r\n        log.AccountDeposit(msg.sender, addr, msg.value, True)\r\n        return True\r\n    else:\r\n        log.Error('Deposit must be authorized')\r\n        return False\r\n\r\n@public\r\ndef withdraw(addr: address, amount: wei_value) -> bool:\r\n    if(amount > self.balance):\r\n        log.Error('Exceeds balance')\r\n        return False\r\n    if(self.authorized[addr]):\r\n        log.AccountWithdrawal(msg.sender, addr, amount, True)\r\n        send(msg.sender, amount)\r\n        return True\r\n    log.Error('Withdraw Unsuccessful')\r\n    return False\r\n\r\n\r\n@public\r\n@constant\r\ndef userAddress() -> address:\r\n    return self.user\r\n\r\n@public\r\n@constant\r\ndef factoryAddress() -> address:\r\n    return self.factory\r\n\r\n@public\r\n@constant \r\ndef ownerAddress() -> address:\r\n    return self.owner\r\n\r\n@public\r\n@constant\r\ndef authorizedAccount(userAcc_addr: address) -> bool:\r\n    return self.authorized[userAcc_addr]\r\n \r\n@public\r\n@constant\r\ndef accountBalance() -> wei_value:\r\n    return self.balance\r\n\r\n    ",
  "sourcePath": "C:/Users/alexa/OneDrive/Documents/Master/Blockchain/Projects/Emerald_Project/contracts/Account.vy",
  "compiler": {
    "name": "vyper",
    "version": "0.1.0b13+commit.375fb27"
  },
  "networks": {
    "5777": {
      "events": {
        "0x08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa": {
          "name": "Error",
          "inputs": [
            {
              "type": "string",
              "name": "message",
              "indexed": false
            }
          ],
          "anonymous": false,
          "type": "event",
          "signature": "0x08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa"
        },
        "0x1a249674a89ca8f31d0561aed4ccbaf4a366633ec7deb6d724a94970763424da": {
          "name": "AccountCreated",
          "inputs": [
            {
              "type": "address",
              "name": "user",
              "indexed": true
            },
            {
              "type": "address",
              "name": "userAcc",
              "indexed": true
            },
            {
              "type": "bool",
              "name": "outcome",
              "indexed": false
            }
          ],
          "anonymous": false,
          "type": "event",
          "signature": "0x1a249674a89ca8f31d0561aed4ccbaf4a366633ec7deb6d724a94970763424da"
        },
        "0x31b0379890007b62e73ee4db4531159d8d00428b2426e3942589e1b604d82e8d": {
          "name": "AccountAuthorized",
          "inputs": [
            {
              "type": "address",
              "name": "user",
              "indexed": true
            },
            {
              "type": "address",
              "name": "userAcc",
              "indexed": true
            },
            {
              "type": "bool",
              "name": "outcome",
              "indexed": false
            }
          ],
          "anonymous": false,
          "type": "event",
          "signature": "0x31b0379890007b62e73ee4db4531159d8d00428b2426e3942589e1b604d82e8d"
        },
        "0x349bb09fb300a1c8e15ca4fc19e013dd03a253f76abdb743000959fcb99a0d45": {
          "name": "AccountDeposit",
          "inputs": [
            {
              "type": "address",
              "name": "user",
              "indexed": true
            },
            {
              "type": "address",
              "name": "userAcc",
              "indexed": true
            },
            {
              "type": "uint256",
              "name": "amount",
              "indexed": false,
              "unit": "wei"
            },
            {
              "type": "bool",
              "name": "outcome",
              "indexed": false
            }
          ],
          "anonymous": false,
          "type": "event",
          "signature": "0x349bb09fb300a1c8e15ca4fc19e013dd03a253f76abdb743000959fcb99a0d45"
        },
        "0x9c4355125b9f682b86853a9e5ac6680bc1ede3ab7dae57a7b7d1f4d1fc17b96d": {
          "name": "AccountWithdrawal",
          "inputs": [
            {
              "type": "address",
              "name": "user",
              "indexed": true
            },
            {
              "type": "address",
              "name": "userAcc",
              "indexed": true
            },
            {
              "type": "uint256",
              "name": "amount",
              "indexed": false,
              "unit": "wei"
            },
            {
              "type": "bool",
              "name": "outcome",
              "indexed": false
            }
          ],
          "anonymous": false,
          "type": "event",
          "signature": "0x9c4355125b9f682b86853a9e5ac6680bc1ede3ab7dae57a7b7d1f4d1fc17b96d"
        }
      },
      "links": {},
      "address": "0x9019eDc61717601e3e49815044667fB141fd6e63",
      "transactionHash": "0x658cc754ac2649eb1f126c16c7a4ae3aada0fa2c0a129be2ab8f42f2947744f5"
    }
  },
  "schemaVersion": "3.0.17",
  "updatedAt": "2019-11-09T06:55:13.866Z",
  "networkType": "ethereum"
}