{
  "contractName": "InstrumentController",
  "abi": [
    {
      "name": "Payment",
      "inputs": [
        {
          "type": "address",
          "name": "_from",
          "indexed": true
        },
        {
          "type": "uint256",
          "name": "_value",
          "indexed": false,
          "unit": "wei"
        }
      ],
      "anonymous": false,
      "type": "event"
    },
    {
      "constant": false,
      "payable": true,
      "type": "fallback"
    },
    {
      "outputs": [],
      "inputs": [
        {
          "type": "address",
          "name": "_instrumentFactory"
        },
        {
          "type": "address",
          "name": "_tokenFactory"
        },
        {
          "type": "address",
          "name": "_assetFactory"
        },
        {
          "type": "address",
          "name": "_setFactory"
        },
        {
          "type": "uint256",
          "unit": "sec",
          "name": "_depreciation"
        },
        {
          "type": "string",
          "name": "_symbol"
        }
      ],
      "constant": false,
      "payable": false,
      "type": "constructor"
    },
    {
      "name": "createInstrument",
      "outputs": [
        {
          "type": "bool",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "_symbol"
        },
        {
          "type": "address",
          "name": "_strikeAddress"
        },
        {
          "type": "address",
          "name": "_underlyingAddress"
        },
        {
          "type": "uint256",
          "name": "_ratio"
        }
      ],
      "constant": false,
      "payable": false,
      "type": "function",
      "gas": 748869
    },
    {
      "name": "administrator",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 581
    },
    {
      "name": "depreciation",
      "outputs": [
        {
          "type": "uint256",
          "unit": "sec",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 611
    },
    {
      "name": "sets__expiration",
      "outputs": [
        {
          "type": "uint256",
          "unit": "sec",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        },
        {
          "type": "int128",
          "name": "arg1"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1215
    },
    {
      "name": "set__expiration",
      "outputs": [
        {
          "type": "uint256",
          "unit": "sec",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "int128",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 942
    },
    {
      "name": "assets__name",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 5678
    },
    {
      "name": "assets__symbol",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 5714
    },
    {
      "name": "assets__decimals",
      "outputs": [
        {
          "type": "uint256",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1142
    },
    {
      "name": "assets__assetAddress",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1172
    },
    {
      "name": "assetPair__strike_asset__name",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 5870
    },
    {
      "name": "assetPair__strike_asset__symbol",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 5906
    },
    {
      "name": "assetPair__strike_asset__decimals",
      "outputs": [
        {
          "type": "uint256",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1334
    },
    {
      "name": "assetPair__strike_asset__assetAddress",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1364
    },
    {
      "name": "assetPair__underlying_asset__name",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 5996
    },
    {
      "name": "assetPair__underlying_asset__symbol",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 6032
    },
    {
      "name": "assetPair__underlying_asset__decimals",
      "outputs": [
        {
          "type": "uint256",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1460
    },
    {
      "name": "assetPair__underlying_asset__assetAddress",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1490
    },
    {
      "name": "assetPair__ratio",
      "outputs": [
        {
          "type": "uint256",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "string",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1442
    },
    {
      "name": "dummyPair__strike_asset__name",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 5837
    },
    {
      "name": "dummyPair__strike_asset__symbol",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 5873
    },
    {
      "name": "dummyPair__strike_asset__decimals",
      "outputs": [
        {
          "type": "uint256",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1301
    },
    {
      "name": "dummyPair__strike_asset__assetAddress",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1331
    },
    {
      "name": "dummyPair__underlying_asset__name",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 5963
    },
    {
      "name": "dummyPair__underlying_asset__symbol",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 5999
    },
    {
      "name": "dummyPair__underlying_asset__decimals",
      "outputs": [
        {
          "type": "uint256",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1427
    },
    {
      "name": "dummyPair__underlying_asset__assetAddress",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1457
    },
    {
      "name": "dummyPair__ratio",
      "outputs": [
        {
          "type": "uint256",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1409
    }
  ],
  "bytecode": "0x740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05260c06117fb6101403934156100a157600080fd5b60206117fb60c03960c05160205181106100ba57600080fd5b50602060206117fb0160c03960c05160205181106100d757600080fd5b50602060406117fb0160c03960c05160205181106100f457600080fd5b50602060606117fb0160c03960c051602051811061011157600080fd5b506060602060a06117fb0160c03960c0516117fb01610200396040602060a06117fb0160c03960c05160040135111561014957600080fd5b336000556101c05160015561014051600755610180516008556101a05160095561016051600a55600b60c052602060c020610200808260c052602060c020602082510161012060006003818352015b826101205160200211156101ab576101cd565b61012051602002850151610120518501555b8151600101808352811415610198575b5050505050506101805160018201556101a051600282015561016051600382015561014051600482015550600d60c052602060c020610200808260c052602060c020602082510161012060006003818352015b8261012051602002111561023357610255565b61012051602002850151610120518501555b8151600101808352811415610220575b5050505050506001810160c052602060c020600b8060c052602060c0208060c052602060c0208360c052602060c020602082540161012060006003818352015b826101205160200211156102a8576102c7565b61012051850154610120518501555b8151600101808352811415610295575b50505050505060018160c052602060c0200154600183015560028160c052602060c0200154600283015560038160c052602060c0200154600383015560048160c052602060c0200154600483015550506002810160c052602060c020600c8060c052602060c0208060c052602060c0208360c052602060c020602082540161012060006003818352015b8261012051602002111561036457610383565b61012051850154610120518501555b8151600101808352811415610351575b5050505050506001820160c052602060c02060018260c052602060c020018060c052602060c02054825560018160c052602060c0200154600183015560028160c052602060c0200154600283015560038160c052602060c0200154600383015560048160c052602060c0200154600483015560058160c052602060c0200154600583015560068160c052602060c0200154600683015560078160c052602060c0200154600783015560088160c052602060c0200154600883015560098160c052602060c02001546009830155600a8160c052602060c0200154600a830155600b8160c052602060c0200154600b830155600c8160c052602060c0200154600c830155600d8160c052602060c0200154600d830155600e8160c052602060c0200154600e830155600f8160c052602060c0200154600f83015550505050506117e356600436101561000d576112f0565b600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05263d9ab466760005114156104a65734156100ba57600080fd5b60606004356004016101403760406004356004013511156100da57600080fd5b60243560205181106100eb57600080fd5b5060443560205181106100fd57600080fd5b506002610140516101602060e05260c052604060c02060c052602060c0206009543b61012857600080fd5b600954301861013657600080fd5b60806102e060c460606377132b6a6101c052806101e05261014080805160200180846101e001828460006004600a8704601201f161017357600080fd5b50508051820160206001820306601f82010390506020019150506001546102005262093a80610220526101dc905060006009545af16101b157600080fd5b6000506102e08160c052602060c0208180518255806020015160018301558060400151600283015580606001516003830155505050506008543b6101f457600080fd5b600854301861020257600080fd5b60206104a060e46080630c122d99610360528061038052610140808051602001808461038001828460006004600a8704601201f161023f57600080fd5b50508051820160206001820306601f82010390506020019150506024356103a0526044356103c0526064356103e05261037c905060006008545af161028357600080fd5b6000506104a050601160c052602060c0206008543b6102a157600080fd5b60085430186102af57600080fd5b6102a061052060046310082c756104c0526104dc60006008545af16102d357600080fd5b6000506105208160c052602060c0208180808360c052602060c020602082510161012060006003818352015b8261012051602002111561031257610334565b61012051602002850151610120518501555b81516001018083528114156102ff575b50505050505080608001806001840160c052602060c020602082510161012060006003818352015b8261012051602002111561036f57610391565b61012051602002850151610120518501555b815160010180835281141561035c575b5050505050508061010001516002830155806101200151600383015550506001820160c052602060c020816101400180808360c052602060c020602082510161012060006003818352015b826101205160200211156103ef57610411565b61012051602002850151610120518501555b81516001018083528114156103dc575b50505050505080608001806001840160c052602060c020602082510161012060006003818352015b8261012051602002111561044c5761046e565b61012051602002850151610120518501555b8151600101808352811415610439575b50505050505080610100015160028301558061012001516003830155505080610280015160028301555050600160005260206000f350005b63f53d0a8e60005114156104cd5734156104bf57600080fd5b60005460005260206000f350005b638445c11560005114156104f45734156104e657600080fd5b60015460005260206000f350005b63db7d5a46600051141561059457341561050d57600080fd5b606060043560040161014037604060043560040135111561052d57600080fd5b6060516024358060405190131561054357600080fd5b809190121561055157600080fd5b506024356004811061056257600080fd5b6002610140516101602060e05260c052604060c02060c052602060c02060c052602060c020015460005260206000f350005b63ed2db7c960005114156106015734156105ad57600080fd5b606051600435806040519013156105c357600080fd5b80919012156105d157600080fd5b50600435600481106105e257600080fd5b600360c052602060c02060c052602060c020015460005260206000f350005b63a0521f9060005114156106f057341561061a57600080fd5b606060043560040161014037604060043560040135111561063a57600080fd5b6004610140516101602060e05260c052604060c02060c052602060c0208060c052602060c020610200602082540161012060006003818352015b82610120516020021115610687576106a9565b61012051850154610120516020028501525b8151600101808352811415610674575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b639f61b65a60005114156107e257341561070957600080fd5b606060043560040161014037604060043560040135111561072957600080fd5b60016004610140516101602060e05260c052604060c02060c052602060c020018060c052602060c020610200602082540161012060006003818352015b826101205160200211156107795761079b565b61012051850154610120516020028501525b8151600101808352811415610766575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b633150d56f60005114156108475734156107fb57600080fd5b606060043560040161014037604060043560040135111561081b57600080fd5b60026004610140516101602060e05260c052604060c02060c052602060c020015460005260206000f350005b63429010f260005114156108ac57341561086057600080fd5b606060043560040161014037604060043560040135111561088057600080fd5b60036004610140516101602060e05260c052604060c02060c052602060c020015460005260206000f350005b63b8614eec60005114156109a35734156108c557600080fd5b60606004356004016101403760406004356004013511156108e557600080fd5b6006610140516101602060e05260c052604060c02060c052602060c02060c052602060c0208060c052602060c020610200602082540161012060006003818352015b8261012051602002111561093a5761095c565b61012051850154610120516020028501525b8151600101808352811415610927575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b6378e1a7c36000511415610a9d5734156109bc57600080fd5b60606004356004016101403760406004356004013511156109dc57600080fd5b60016006610140516101602060e05260c052604060c02060c052602060c02060c052602060c020018060c052602060c020610200602082540161012060006003818352015b82610120516020021115610a3457610a56565b61012051850154610120516020028501525b8151600101808352811415610a21575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b631351ec806000511415610b0a573415610ab657600080fd5b6060600435600401610140376040600435600401351115610ad657600080fd5b60026006610140516101602060e05260c052604060c02060c052602060c02060c052602060c020015460005260206000f350005b63b504905c6000511415610b77573415610b2357600080fd5b6060600435600401610140376040600435600401351115610b4357600080fd5b60036006610140516101602060e05260c052604060c02060c052602060c02060c052602060c020015460005260206000f350005b63ea46675a6000511415610c71573415610b9057600080fd5b6060600435600401610140376040600435600401351115610bb057600080fd5b60016006610140516101602060e05260c052604060c02060c052602060c0200160c052602060c0208060c052602060c020610200602082540161012060006003818352015b82610120516020021115610c0857610c2a565b61012051850154610120516020028501525b8151600101808352811415610bf5575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b63e523127b6000511415610d6e573415610c8a57600080fd5b6060600435600401610140376040600435600401351115610caa57600080fd5b600160016006610140516101602060e05260c052604060c02060c052602060c0200160c052602060c020018060c052602060c020610200602082540161012060006003818352015b82610120516020021115610d0557610d27565b61012051850154610120516020028501525b8151600101808352811415610cf2575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b6330a93f0b6000511415610dde573415610d8757600080fd5b6060600435600401610140376040600435600401351115610da757600080fd5b600260016006610140516101602060e05260c052604060c02060c052602060c0200160c052602060c020015460005260206000f350005b63ff1ebe186000511415610e4e573415610df757600080fd5b6060600435600401610140376040600435600401351115610e1757600080fd5b600360016006610140516101602060e05260c052604060c02060c052602060c0200160c052602060c020015460005260206000f350005b63f6b7903c6000511415610eb3573415610e6757600080fd5b6060600435600401610140376040600435600401351115610e8757600080fd5b60026006610140516101602060e05260c052604060c02060c052602060c020015460005260206000f350005b6320195a7a6000511415610f77573415610ecc57600080fd5b601160c052602060c02060c052602060c0208060c052602060c020610180602082540161012060006003818352015b82610120516020021115610f0e57610f30565b61012051850154610120516020028501525b8151600101808352811415610efb575b50505050505061018051806101a001818260206001820306601f82010390500336823750506020610160526040610180510160206001820306601f8201039050610160f350005b6328547565600051141561103e573415610f9057600080fd5b6001601160c052602060c02060c052602060c020018060c052602060c020610180602082540161012060006003818352015b82610120516020021115610fd557610ff7565b61012051850154610120516020028501525b8151600101808352811415610fc2575b50505050505061018051806101a001818260206001820306601f82010390500336823750506020610160526040610180510160206001820306601f8201039050610160f350005b63918ebe73600051141561107857341561105757600080fd5b6002601160c052602060c02060c052602060c020015460005260206000f350005b6373bdc23360005114156110b257341561109157600080fd5b6003601160c052602060c02060c052602060c020015460005260206000f350005b63548a5af660005114156111795734156110cb57600080fd5b6001601160c052602060c0200160c052602060c0208060c052602060c020610180602082540161012060006003818352015b8261012051602002111561111057611132565b61012051850154610120516020028501525b81516001018083528114156110fd575b50505050505061018051806101a001818260206001820306601f82010390500336823750506020610160526040610180510160206001820306601f8201039050610160f350005b6379336494600051141561124357341561119257600080fd5b60016001601160c052602060c0200160c052602060c020018060c052602060c020610180602082540161012060006003818352015b826101205160200211156111da576111fc565b61012051850154610120516020028501525b81516001018083528114156111c7575b50505050505061018051806101a001818260206001820306601f82010390500336823750506020610160526040610180510160206001820306601f8201039050610160f350005b63146f8638600051141561128057341561125c57600080fd5b60026001601160c052602060c0200160c052602060c020015460005260206000f350005b63bef6897060005114156112bd57341561129957600080fd5b60036001601160c052602060c0200160c052602060c020015460005260206000f350005b631343101f60005114156112ef5734156112d657600080fd5b6002601160c052602060c020015460005260206000f350005b5b3461014052337fd4f43975feb89f48dd30cabbb32011045be187d1e11c8ea9faa43efc352825196020610140a25b6104c56117e3036104c56000396104c56117e3036000f3",
  "deployedBytecode": "0x600436101561000d576112f0565b600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05263d9ab466760005114156104a65734156100ba57600080fd5b60606004356004016101403760406004356004013511156100da57600080fd5b60243560205181106100eb57600080fd5b5060443560205181106100fd57600080fd5b506002610140516101602060e05260c052604060c02060c052602060c0206009543b61012857600080fd5b600954301861013657600080fd5b60806102e060c460606377132b6a6101c052806101e05261014080805160200180846101e001828460006004600a8704601201f161017357600080fd5b50508051820160206001820306601f82010390506020019150506001546102005262093a80610220526101dc905060006009545af16101b157600080fd5b6000506102e08160c052602060c0208180518255806020015160018301558060400151600283015580606001516003830155505050506008543b6101f457600080fd5b600854301861020257600080fd5b60206104a060e46080630c122d99610360528061038052610140808051602001808461038001828460006004600a8704601201f161023f57600080fd5b50508051820160206001820306601f82010390506020019150506024356103a0526044356103c0526064356103e05261037c905060006008545af161028357600080fd5b6000506104a050601160c052602060c0206008543b6102a157600080fd5b60085430186102af57600080fd5b6102a061052060046310082c756104c0526104dc60006008545af16102d357600080fd5b6000506105208160c052602060c0208180808360c052602060c020602082510161012060006003818352015b8261012051602002111561031257610334565b61012051602002850151610120518501555b81516001018083528114156102ff575b50505050505080608001806001840160c052602060c020602082510161012060006003818352015b8261012051602002111561036f57610391565b61012051602002850151610120518501555b815160010180835281141561035c575b5050505050508061010001516002830155806101200151600383015550506001820160c052602060c020816101400180808360c052602060c020602082510161012060006003818352015b826101205160200211156103ef57610411565b61012051602002850151610120518501555b81516001018083528114156103dc575b50505050505080608001806001840160c052602060c020602082510161012060006003818352015b8261012051602002111561044c5761046e565b61012051602002850151610120518501555b8151600101808352811415610439575b50505050505080610100015160028301558061012001516003830155505080610280015160028301555050600160005260206000f350005b63f53d0a8e60005114156104cd5734156104bf57600080fd5b60005460005260206000f350005b638445c11560005114156104f45734156104e657600080fd5b60015460005260206000f350005b63db7d5a46600051141561059457341561050d57600080fd5b606060043560040161014037604060043560040135111561052d57600080fd5b6060516024358060405190131561054357600080fd5b809190121561055157600080fd5b506024356004811061056257600080fd5b6002610140516101602060e05260c052604060c02060c052602060c02060c052602060c020015460005260206000f350005b63ed2db7c960005114156106015734156105ad57600080fd5b606051600435806040519013156105c357600080fd5b80919012156105d157600080fd5b50600435600481106105e257600080fd5b600360c052602060c02060c052602060c020015460005260206000f350005b63a0521f9060005114156106f057341561061a57600080fd5b606060043560040161014037604060043560040135111561063a57600080fd5b6004610140516101602060e05260c052604060c02060c052602060c0208060c052602060c020610200602082540161012060006003818352015b82610120516020021115610687576106a9565b61012051850154610120516020028501525b8151600101808352811415610674575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b639f61b65a60005114156107e257341561070957600080fd5b606060043560040161014037604060043560040135111561072957600080fd5b60016004610140516101602060e05260c052604060c02060c052602060c020018060c052602060c020610200602082540161012060006003818352015b826101205160200211156107795761079b565b61012051850154610120516020028501525b8151600101808352811415610766575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b633150d56f60005114156108475734156107fb57600080fd5b606060043560040161014037604060043560040135111561081b57600080fd5b60026004610140516101602060e05260c052604060c02060c052602060c020015460005260206000f350005b63429010f260005114156108ac57341561086057600080fd5b606060043560040161014037604060043560040135111561088057600080fd5b60036004610140516101602060e05260c052604060c02060c052602060c020015460005260206000f350005b63b8614eec60005114156109a35734156108c557600080fd5b60606004356004016101403760406004356004013511156108e557600080fd5b6006610140516101602060e05260c052604060c02060c052602060c02060c052602060c0208060c052602060c020610200602082540161012060006003818352015b8261012051602002111561093a5761095c565b61012051850154610120516020028501525b8151600101808352811415610927575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b6378e1a7c36000511415610a9d5734156109bc57600080fd5b60606004356004016101403760406004356004013511156109dc57600080fd5b60016006610140516101602060e05260c052604060c02060c052602060c02060c052602060c020018060c052602060c020610200602082540161012060006003818352015b82610120516020021115610a3457610a56565b61012051850154610120516020028501525b8151600101808352811415610a21575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b631351ec806000511415610b0a573415610ab657600080fd5b6060600435600401610140376040600435600401351115610ad657600080fd5b60026006610140516101602060e05260c052604060c02060c052602060c02060c052602060c020015460005260206000f350005b63b504905c6000511415610b77573415610b2357600080fd5b6060600435600401610140376040600435600401351115610b4357600080fd5b60036006610140516101602060e05260c052604060c02060c052602060c02060c052602060c020015460005260206000f350005b63ea46675a6000511415610c71573415610b9057600080fd5b6060600435600401610140376040600435600401351115610bb057600080fd5b60016006610140516101602060e05260c052604060c02060c052602060c0200160c052602060c0208060c052602060c020610200602082540161012060006003818352015b82610120516020021115610c0857610c2a565b61012051850154610120516020028501525b8151600101808352811415610bf5575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b63e523127b6000511415610d6e573415610c8a57600080fd5b6060600435600401610140376040600435600401351115610caa57600080fd5b600160016006610140516101602060e05260c052604060c02060c052602060c0200160c052602060c020018060c052602060c020610200602082540161012060006003818352015b82610120516020021115610d0557610d27565b61012051850154610120516020028501525b8151600101808352811415610cf2575b505050505050610200518061022001818260206001820306601f820103905003368237505060206101e0526040610200510160206001820306601f82010390506101e0f350005b6330a93f0b6000511415610dde573415610d8757600080fd5b6060600435600401610140376040600435600401351115610da757600080fd5b600260016006610140516101602060e05260c052604060c02060c052602060c0200160c052602060c020015460005260206000f350005b63ff1ebe186000511415610e4e573415610df757600080fd5b6060600435600401610140376040600435600401351115610e1757600080fd5b600360016006610140516101602060e05260c052604060c02060c052602060c0200160c052602060c020015460005260206000f350005b63f6b7903c6000511415610eb3573415610e6757600080fd5b6060600435600401610140376040600435600401351115610e8757600080fd5b60026006610140516101602060e05260c052604060c02060c052602060c020015460005260206000f350005b6320195a7a6000511415610f77573415610ecc57600080fd5b601160c052602060c02060c052602060c0208060c052602060c020610180602082540161012060006003818352015b82610120516020021115610f0e57610f30565b61012051850154610120516020028501525b8151600101808352811415610efb575b50505050505061018051806101a001818260206001820306601f82010390500336823750506020610160526040610180510160206001820306601f8201039050610160f350005b6328547565600051141561103e573415610f9057600080fd5b6001601160c052602060c02060c052602060c020018060c052602060c020610180602082540161012060006003818352015b82610120516020021115610fd557610ff7565b61012051850154610120516020028501525b8151600101808352811415610fc2575b50505050505061018051806101a001818260206001820306601f82010390500336823750506020610160526040610180510160206001820306601f8201039050610160f350005b63918ebe73600051141561107857341561105757600080fd5b6002601160c052602060c02060c052602060c020015460005260206000f350005b6373bdc23360005114156110b257341561109157600080fd5b6003601160c052602060c02060c052602060c020015460005260206000f350005b63548a5af660005114156111795734156110cb57600080fd5b6001601160c052602060c0200160c052602060c0208060c052602060c020610180602082540161012060006003818352015b8261012051602002111561111057611132565b61012051850154610120516020028501525b81516001018083528114156110fd575b50505050505061018051806101a001818260206001820306601f82010390500336823750506020610160526040610180510160206001820306601f8201039050610160f350005b6379336494600051141561124357341561119257600080fd5b60016001601160c052602060c0200160c052602060c020018060c052602060c020610180602082540161012060006003818352015b826101205160200211156111da576111fc565b61012051850154610120516020028501525b81516001018083528114156111c7575b50505050505061018051806101a001818260206001820306601f82010390500336823750506020610160526040610180510160206001820306601f8201039050610160f350005b63146f8638600051141561128057341561125c57600080fd5b60026001601160c052602060c0200160c052602060c020015460005260206000f350005b63bef6897060005114156112bd57341561129957600080fd5b60036001601160c052602060c0200160c052602060c020015460005260206000f350005b631343101f60005114156112ef5734156112d657600080fd5b6002601160c052602060c020015460005260206000f350005b5b3461014052337fd4f43975feb89f48dd30cabbb32011045be187d1e11c8ea9faa43efc352825196020610140a2",
  "source": "# @title Instrument Controller\r\n# \r\n# @notice Controls specification, creation, and management of financial instruments and vehicles.\r\n# \r\n# @author Alexander Angel\r\n# \r\n# @dev System Controller is the management contract of this contract.\r\n#\r\n# @version 0.1.0b14\r\n#\r\n# @system Contract Hierarchy\r\n#   Instrument Controller\r\n#       Instrument Registry    \r\n#           Asset Registry\r\n#               Set Registry\r\n#                   Parent Asset Factory\r\n#                   Parent Set Factory\r\n#                       Parent Token Factory\r\n#                           Asset\r\n#                               Set\r\n#                                   Year\r\n#                                       Month\r\n#                                           Day\r\n#   ========================================================\r\n#                                               ERC-20 Token\r\n\r\n\r\n\r\n\r\nstruct Set:\r\n    expiration: timestamp[4] # UNIX timestamp\r\n\r\nstruct Asset: # ERC-20 Token\r\n    name: string[64]\r\n    symbol: string[64]\r\n    decimals: uint256\r\n    assetAddress: address\r\n\r\nstruct Token:\r\n    symbol: string[64]\r\n    strike: Asset\r\n    underlying: Asset\r\n    set: Set\r\n\r\nstruct AssetPair: # Entangles two Assets\r\n    strike_asset: Asset\r\n    underlying_asset: Asset\r\n    ratio: uint256 # Amount of strike tokens relative to 1 underlying token\r\n\r\nstruct Instrument:\r\n    symbol: string[64] # String to represent the instrument\r\n    assets: AssetPair # Assets that the instrument is in charge of\r\n    set: Set # Set that the instrument is a part of (A cohort)\r\n    instrumentAddress: address\r\n\r\nstruct InstrumentRegistry:\r\n    symbol: string[64] # String to represent types of instruments\r\n    instruments: address[16]\r\n    #instruments: map(uint256, Instrument) # Maps an id number to an instrument a part of that registry\r\n\r\n#struct AssetFactory:\r\n#    symbol: uint256 # Symbol to Id\r\n#    assets: map(uint256, AssetPair) # Asset pairs generated by factory\r\n#    facAddress: address\r\n#\r\n#struct SetFactory: \r\n#    symbol: uint256\r\n#    sets: map(uint256, Set) # Sets generated by factory\r\n#    facAddress: address\r\n#\r\n#struct TokenFactory:\r\n#    symbol: uint256\r\n#    Tokens: map(uint256, Token) # Tokens generated by factory\r\n#    facAddress: address\r\n#\r\n#struct InstrumentFactory:\r\n#    symbol: uint256\r\n#    instruments: map(uint256, Instrument) # Instruments generated by factory\r\n#    facAddress: address\r\n\r\nstruct FactoryRegistry:\r\n    symbol: string[64]\r\n    asset: address\r\n    set: address\r\n    token: address\r\n    instrument: address\r\n\r\nstruct Registry:\r\n    symbol: string[64]\r\n    factories: FactoryRegistry\r\n    instruments: InstrumentRegistry\r\n\r\ncontract AssetFactory():\r\n    def name() -> string[64]:constant\r\n    def createPair(_symbol: string[64], _strike: address, _underlying: address, _ratio: uint256) -> bool:modifying\r\n    def assetPair() -> AssetPair:modifying\r\n\r\ncontract SetFactory():\r\n    def name() -> string[64]:constant\r\n    def createSet(_symbol: string[64], _epoch: timestamp, _cycle: uint256) -> Set: modifying\r\n\r\ncontract TokenFactory():\r\n    def name() -> string[64]:constant\r\n\r\ncontract InstrumentFactory():\r\n    def name() -> string[64]:constant\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n# Interfaces\r\n\r\n\r\n\r\n\r\n\r\n# Events\r\n\r\n\r\nPayment: event({_from: indexed(address), _value: wei_value})\r\n\r\n\r\n# CONSTANTS\r\n\r\nMONTH_IN_SECONDS: constant(uint256) = 604800\r\n\r\n\r\n\r\n# State Variables\r\n\r\n\r\nadministrator: public(address)\r\ndepreciation: public(timestamp)\r\n\r\n\r\nsets: public(map(string[64], Set))\r\nset: public(Set)\r\nassets: public(map(string[64], Asset))\r\ntokens: map(string[64], Token)\r\nassetPair: public(map(string[64], AssetPair))\r\ninstrumentFactory: InstrumentFactory\r\nassetFactory: AssetFactory\r\nsetFactory: SetFactory\r\ntokenFactory: TokenFactory\r\nfactoryRegistry: FactoryRegistry\r\ninstrumentsRegistry: InstrumentRegistry\r\nregistry: Registry\r\ninstruments: map(uint256, Instrument)\r\ninstrumentIndex: uint256\r\n\r\ndummyAsset: Asset\r\ndummyPair: public(AssetPair)\r\n\r\n\r\n# Fallback and Utility Functions\r\n\r\n\r\n@public\r\n@payable\r\ndef __default__():\r\n    log.Payment(msg.sender, msg.value)\r\n\r\n\r\n# Core Functions\r\n\r\n# Create Instrument\r\n#   Add to Instrument Registry\r\n#       Instrument Factory\r\n#           Assets\r\n#               Sets\r\n#                   Token Factory\r\n#                       Tokens\r\n\r\n\r\n@public\r\ndef __init__(   _instrumentFactory: address,\r\n                _tokenFactory: address,\r\n                _assetFactory: address,\r\n                _setFactory: address,\r\n                _depreciation: timestamp,\r\n                _symbol: string[64],\r\n            ):\r\n    \r\n    self.administrator = msg.sender\r\n    self.depreciation = _depreciation\r\n    self.instrumentFactory = InstrumentFactory(_instrumentFactory)\r\n    self.assetFactory = AssetFactory(_assetFactory)\r\n    self.setFactory = SetFactory(_setFactory)\r\n    self.tokenFactory = TokenFactory(_tokenFactory)\r\n    self.factoryRegistry = FactoryRegistry({symbol: _symbol, asset: _assetFactory, set: _setFactory, token: _tokenFactory, instrument: _instrumentFactory})\r\n    self.registry = Registry({symbol: _symbol, factories: self.factoryRegistry, instruments: self.instrumentsRegistry})\r\n\r\n\r\n\r\n\r\n@public\r\ndef createInstrument(_symbol: string[64], _strikeAddress: address, _underlyingAddress: address, _ratio: uint256) -> bool:\r\n    \"\"\"\r\n    @dev Creates a new instrument with an asset pair, sets, and tokens\r\n    \"\"\"\r\n    self.sets[_symbol] = self.setFactory.createSet(_symbol, self.depreciation, MONTH_IN_SECONDS)\r\n    #self.assetPair[_symbol] = self.assetFactory.createPair(_symbol, _strikeAddress, _underlyingAddress, _ratio)\r\n    self.assetFactory.createPair(_symbol, _strikeAddress, _underlyingAddress, _ratio)\r\n    self.dummyPair = self.assetFactory.assetPair()\r\n    \r\n    return True",
  "sourcePath": "C:/Users/alexa/OneDrive/Documents/Master/Blockchain/Projects/Emerald_Project/contracts/InstrumentController.vy",
  "compiler": {
    "name": "vyper",
    "version": "0.1.0b14+commit.49b201c"
  },
  "networks": {
    "5777": {
      "events": {
        "0xd4f43975feb89f48dd30cabbb32011045be187d1e11c8ea9faa43efc35282519": {
          "name": "Payment",
          "inputs": [
            {
              "type": "address",
              "name": "_from",
              "indexed": true
            },
            {
              "type": "uint256",
              "name": "_value",
              "indexed": false,
              "unit": "wei"
            }
          ],
          "anonymous": false,
          "type": "event",
          "signature": "0xd4f43975feb89f48dd30cabbb32011045be187d1e11c8ea9faa43efc35282519"
        }
      },
      "links": {},
      "address": "0xF350D89B8967d1B3B3a14bD81222C33eEDb575B6",
      "transactionHash": "0xfcae0583daeff40eed5c641b1ce7528178ad38c59b4d032733c489665f47b46a"
    }
  },
  "schemaVersion": "3.0.19",
  "updatedAt": "2019-11-25T09:13:32.695Z",
  "networkType": "ethereum"
}