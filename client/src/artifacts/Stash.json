{
  "contractName": "Stash",
  "abi": [
    {
      "name": "Fund",
      "inputs": [
        {
          "type": "address",
          "name": "writer",
          "indexed": true
        },
        {
          "type": "uint256",
          "name": "margin",
          "indexed": false
        }
      ],
      "anonymous": false,
      "type": "event"
    },
    {
      "name": "Melt",
      "inputs": [
        {
          "type": "address",
          "name": "writer",
          "indexed": true
        }
      ],
      "anonymous": false,
      "type": "event"
    },
    {
      "name": "Deposit",
      "inputs": [
        {
          "type": "address",
          "name": "source",
          "indexed": true
        },
        {
          "type": "uint256",
          "name": "val",
          "indexed": false,
          "unit": "wei"
        }
      ],
      "anonymous": false,
      "type": "event"
    },
    {
      "constant": false,
      "payable": true,
      "type": "fallback"
    },
    {
      "name": "getAddress",
      "outputs": [
        {
          "type": "bool",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "address",
          "name": "addr"
        }
      ],
      "constant": false,
      "payable": false,
      "type": "function",
      "gas": 35399
    },
    {
      "name": "deposit",
      "outputs": [
        {
          "type": "bool",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "address",
          "name": "_writer"
        },
        {
          "type": "uint256",
          "name": "margin"
        }
      ],
      "constant": false,
      "payable": false,
      "type": "function",
      "gas": 37275
    },
    {
      "name": "withdraw",
      "outputs": [
        {
          "type": "bool",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "uint256",
          "name": "val"
        }
      ],
      "constant": false,
      "payable": false,
      "type": "function",
      "gas": 71896
    },
    {
      "name": "writer",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 641
    },
    {
      "name": "fund",
      "outputs": [
        {
          "type": "uint256",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "address",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 825
    }
  ],
  "bytecode": "0x6102bd56600436101561000d5761028b565b600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05263ae22c57d60005114156100df5734156100ba57600080fd5b60043560205181106100cb57600080fd5b50600435600255600160005260206000f350005b6347e7ef24600051141561015c5734156100f857600080fd5b600435602051811061010957600080fd5b50602435600160043560e05260c052604060c02055602435610140526004357fda8220a878ff7a89474ccffdaa31ea1ed1ffbb0207d5051afccc4fbaf81f9bcd6020610140a2600160005260206000f350005b632e1a7d4d600051141561021c57341561017557600080fd5b6000600060006000670de0b6b3a76400006001600435101561019657600080fd5b600160043503026002543b6101aa57600080fd5b60025430186101b857600080fd5b60206101c0602463533286ec61014052336101605261015c6002545afa6101de57600080fd5b6000506101c0516000f16101f157600080fd5b6000600060006000670de0b6b3a7640000326000f161020f57600080fd5b600160005260206000f350005b63453a2abc600051141561024357341561023557600080fd5b60005460005260206000f350005b6323024408600051141561028a57341561025c57600080fd5b600435602051811061026d57600080fd5b50600160043560e05260c052604060c0205460005260206000f350005b5b3461014052337fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c6020610140a25b6100046102bd036100046000396100046102bd036000f3",
  "deployedBytecode": "0x600436101561000d5761028b565b600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05263ae22c57d60005114156100df5734156100ba57600080fd5b60043560205181106100cb57600080fd5b50600435600255600160005260206000f350005b6347e7ef24600051141561015c5734156100f857600080fd5b600435602051811061010957600080fd5b50602435600160043560e05260c052604060c02055602435610140526004357fda8220a878ff7a89474ccffdaa31ea1ed1ffbb0207d5051afccc4fbaf81f9bcd6020610140a2600160005260206000f350005b632e1a7d4d600051141561021c57341561017557600080fd5b6000600060006000670de0b6b3a76400006001600435101561019657600080fd5b600160043503026002543b6101aa57600080fd5b60025430186101b857600080fd5b60206101c0602463533286ec61014052336101605261015c6002545afa6101de57600080fd5b6000506101c0516000f16101f157600080fd5b6000600060006000670de0b6b3a7640000326000f161020f57600080fd5b600160005260206000f350005b63453a2abc600051141561024357341561023557600080fd5b60005460005260206000f350005b6323024408600051141561028a57341561025c57600080fd5b600435602051811061026d57600080fd5b50600160043560e05260c052604060c0205460005260206000f350005b5b3461014052337fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c6020610140a2",
  "source": "# @title STASH \r\n# \r\n# @notice Margin Record Store and Deposit Authentication\r\n# \r\n# @author Alexander Angel\r\n# \r\n# @dev SStore of margin deposits\r\n\r\ncontract Slate():\r\n    def wrote(_writer: address) -> address:constant\r\n\r\nFund: event({writer: indexed(address), margin: uint256})\r\nMelt: event({writer: indexed(address)})\r\nDeposit: event({source: indexed(address), val: wei_value})\r\n\r\nwriter: public(address)\r\nfund: public(map(address, uint256))\r\nslate: Slate\r\n\r\n@public\r\n@payable\r\ndef __default__():\r\n    log.Deposit(msg.sender, msg.value)\r\n\r\n@public\r\ndef getAddress(addr: address) -> bool:\r\n    self.slate = Slate(addr)\r\n    return True\r\n\r\n@public\r\ndef deposit(_writer: address, margin: uint256) -> bool:\r\n    \"\"\"\r\n    @notice - Maps writer's address to margin.\r\n    \"\"\"\r\n    self.fund[_writer] = margin\r\n    log.Fund(_writer, margin)\r\n    return True\r\n\r\n@public\r\ndef withdraw(val: uint256) -> bool:\r\n    send(self.slate.wrote(msg.sender), as_wei_value(val-1, 'ether')) # fix -1 to become the underlying - strike difference\r\n    send(tx.origin, as_wei_value(1, 'ether')) # Price * notional payment to buyer (tx.origin)\r\n    return True\r\n",
  "sourcePath": "C:/Users/alexa/OneDrive/Documents/Master/Blockchain/Projects/Emerald_Project/contracts/Stash.vy",
  "compiler": {
    "name": "vyper",
    "version": "0.1.0b13+commit.375fb27"
  },
  "networks": {
    "5777": {
      "events": {
        "0xda8220a878ff7a89474ccffdaa31ea1ed1ffbb0207d5051afccc4fbaf81f9bcd": {
          "name": "Fund",
          "inputs": [
            {
              "type": "address",
              "name": "writer",
              "indexed": true
            },
            {
              "type": "uint256",
              "name": "margin",
              "indexed": false
            }
          ],
          "anonymous": false,
          "type": "event",
          "signature": "0xda8220a878ff7a89474ccffdaa31ea1ed1ffbb0207d5051afccc4fbaf81f9bcd"
        },
        "0x33d0a56b2045491e09850aff553970a014517abe73114e055855b96c69005720": {
          "name": "Melt",
          "inputs": [
            {
              "type": "address",
              "name": "writer",
              "indexed": true
            }
          ],
          "anonymous": false,
          "type": "event",
          "signature": "0x33d0a56b2045491e09850aff553970a014517abe73114e055855b96c69005720"
        },
        "0xe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c": {
          "name": "Deposit",
          "inputs": [
            {
              "type": "address",
              "name": "source",
              "indexed": true
            },
            {
              "type": "uint256",
              "name": "val",
              "indexed": false,
              "unit": "wei"
            }
          ],
          "anonymous": false,
          "type": "event",
          "signature": "0xe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c"
        }
      },
      "links": {},
      "address": "0x0449AeE9c65D32E4f8Be396B09D0b74BcA355978",
      "transactionHash": "0x8889ba5fa197b90609c104a635b1ccaeb82fdc13389ee1ed2d41050e1a42e387"
    }
  },
  "schemaVersion": "3.0.17",
  "updatedAt": "2019-11-12T13:03:03.062Z",
  "networkType": "ethereum"
}